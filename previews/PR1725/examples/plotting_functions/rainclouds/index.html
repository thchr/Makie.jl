<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link href="../../../libs/highlight/github.min.css" rel="stylesheet"/><link href="../../../css/franklin.css" rel="stylesheet"/><link href="../../../css/minimal-mistakes.css" rel="stylesheet"/><link href="../../../css/makie.css" rel="stylesheet"/><link href="../../../assets/icon_transparent.png" rel="icon"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><title>raincloud</title></head><body class="layout--single"><div class="site-container"><div class="masthead"><div class="masthead__inner-wrap"><div class="masthead__menu"><nav class="greedy-nav" id="site-nav"><a class="title-icon" href="../../.."><img src="../../../assets/makie_logo_transparent.svg"/></a><ul class="visible-links"><li class="masthead__menu-item"><a href="https://github.com/JuliaPlots/Makie.jl"><img class="masthead-icon" src="../../../assets/GitHub-Mark-64px.png"/></a></li><li class="masthead__menu-item"><a href="../..">Examples</a></li><li class="masthead__menu-item"><a href="../../../tutorials/">Tutorials</a></li><li class="masthead__menu-item"><a href="../../../documentation/">Documentation</a></li></ul><button class="greedy-nav__toggle" type="button"><span class="visually-hidden">Toggle menu</span><div class="navicon"></div></button><ul class="hidden-links hidden"></ul></nav></div></div></div><div id="main" role="main"><div id="overlay"></div><div id="navbar-container"><div id="navbar"><form action="../../../search/index.html" id="lunrSearchForm" name="lunrSearchForm"><input class="search-input" name="q" placeholder="Search docs" type="text"/></form><h1>Navigation</h1><ul><li><div class="tocitem-container"><a href="../../..">Home</a></div></li><li><input checked="" class="collapse-toggle" id="menuitem-2" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-2"><i class="docs-chevron"></i></label><a href="../..">Examples</a></div><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-2-1"><i class="docs-chevron"></i></label><a href="../../layoutables">Layoutables &amp; Widgets</a></div><ul><li><div class="tocitem-container"><a href="../../layoutables/axis">Axis</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/axis3">Axis3</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/box">Box</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/button">Button</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/colorbar">Colorbar</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/gridlayout">GridLayout</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/intervalslider">IntervalSlider</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/label">Label</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/legend">Legend</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/lscene">LScene</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/menu">Menu</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/slider">Slider</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/textbox">Textbox</a></div></li><li><div class="tocitem-container"><a href="../../layoutables/toggle">Toggle</a></div></li></ul></li><li><input checked="" class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-2-2"><i class="docs-chevron"></i></label><a href="..">Plotting functions</a></div><ul><li><div class="tocitem-container"><a href="../abline">abline!</a></div></li><li><div class="tocitem-container"><a href="../arrows">arrows</a></div></li><li><div class="tocitem-container"><a href="../band">band</a></div></li><li><div class="tocitem-container"><a href="../barplot">barplot</a></div></li><li><div class="tocitem-container"><a href="../boxplot">boxplot</a></div></li><li><div class="tocitem-container"><a href="../contour">contour</a></div></li><li><div class="tocitem-container"><a href="../contourf">contourf</a></div></li><li><div class="tocitem-container"><a href="../crossbar">crossbar</a></div></li><li><div class="tocitem-container"><a href="../density">density</a></div></li><li><div class="tocitem-container"><a href="../ecdf">ecdfplot</a></div></li><li><div class="tocitem-container"><a href="../errorbars">errorbars</a></div></li><li><div class="tocitem-container"><a href="../heatmap">heatmap</a></div></li><li><div class="tocitem-container"><a href="../hist">hist</a></div></li><li><div class="tocitem-container"><a href="../hvlines">hlines! and vlines!</a></div></li><li><div class="tocitem-container"><a href="../hvspan">hspan! and vspan!</a></div></li><li><div class="tocitem-container"><a href="../image">image</a></div></li><li><div class="tocitem-container"><a href="../lines">lines</a></div></li><li><div class="tocitem-container"><a href="../linesegments">linesegments</a></div></li><li><div class="tocitem-container"><a href="../mesh">mesh</a></div></li><li><div class="tocitem-container"><a href="../meshscatter">meshscatter</a></div></li><li><div class="tocitem-container"><a href="../pie">pie</a></div></li><li><div class="tocitem-container"><a href="../poly">poly</a></div></li><li><div class="tocitem-container"><a href="../qqplot">qqplot and qqnorm</a></div></li><li><div class="tocitem-container"><a class="active" href="">raincloud</a></div><ul class="page-content"><li><a href="#raincloud">raincloud</a></li></ul></li><li><div class="tocitem-container"><a href="../rangebars">rangebars</a></div></li><li><div class="tocitem-container"><a href="../scatter">scatter</a></div></li><li><div class="tocitem-container"><a href="../scatterlines">scatterlines</a></div></li><li><div class="tocitem-container"><a href="../series">series</a></div></li><li><div class="tocitem-container"><a href="../spy">spy</a></div></li><li><div class="tocitem-container"><a href="../stairs">stairs</a></div></li><li><div class="tocitem-container"><a href="../stem">stem</a></div></li><li><div class="tocitem-container"><a href="../streamplot">streamplot</a></div></li><li><div class="tocitem-container"><a href="../surface">surface</a></div></li><li><div class="tocitem-container"><a href="../text">text</a></div></li><li><div class="tocitem-container"><a href="../violin">violin</a></div></li><li><div class="tocitem-container"><a href="../volume">volume</a></div></li><li><div class="tocitem-container"><a href="../volumeslices">volumeslices</a></div></li><li><div class="tocitem-container"><a href="../wireframe">wireframe</a></div></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-3"><i class="docs-chevron"></i></label><a href="../../../tutorials">Tutorials</a></div><ul><li><div class="tocitem-container"><a href="../../../tutorials/aspect-tutorial">Aspect ratio and size control tutorial</a></div></li><li><div class="tocitem-container"><a href="../../../tutorials/basic-tutorial">Basic Tutorial</a></div></li><li><div class="tocitem-container"><a href="../../../tutorials/layout-tutorial">Layout Tutorial</a></div></li><li><div class="tocitem-container"><a href="../../../tutorials/scenes">Scene tutorial</a></div></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-4"><i class="docs-chevron"></i></label><a href="../../../documentation">Documentation</a></div><ul><li><div class="tocitem-container"><a href="../../../documentation/api_reference">API reference</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/animation">Animations</a></div></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-4-3"><i class="docs-chevron"></i></label><a href="../../../documentation/backends">Backends</a></div><ul><li><div class="tocitem-container"><a href="../../../documentation/backends/cairomakie">CairoMakie</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/backends/glmakie">GLMakie</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/backends/rprmakie">RPRMakie</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/backends/wglmakie">WGLMakie</a></div></li></ul></li><li><div class="tocitem-container"><a href="../../../documentation/cameras">Cameras</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/colors">Colors</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/events">Events</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/faq">Frequently Asked Questions</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/figure">Figures</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/figure_size">Exporting a Figure with physical dimensions</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/headless">Headless</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/inspector">Inspecting Data</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/latex">LaTeX</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/layoutables">Layoutables</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/layouting">How layouts work</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/lighting">Lighting</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/news">News</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/nodes">Observables &amp; Interaction</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/plot_method_signatures">Plot Method Signatures</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/recipes">Plot Recipes</a></div></li><li><div class="tocitem-container"><a href="../../../documentation/scenes">Scenes</a></div></li><li><input class="collapse-toggle" id="menuitem-4-21" type="checkbox"/><div class="tocitem-container"><label class="tocexpander" for="menuitem-4-21"><i class="docs-chevron"></i></label><a href="../../../documentation/theming">Theming</a></div><ul><li><div class="tocitem-container"><a href="../../../documentation/theming/predefined_themes">Predefined themes</a></div></li></ul></li><li><div class="tocitem-container"><a href="../../../documentation/transparency">Basic transparency</a></div></li></ul></li></ul></div></div><div class="franklin-content"><h1 id="raincloud"><a class="header-anchor" href="#raincloud">raincloud</a></h1><div class="docstring"><div class="doc-header" id="rainclouds"><a href="#rainclouds">rainclouds</a></div><div class="doc-content"><pre><code>rainclouds!(ax, category_labels, combined_data_array; plot_boxplots=true, plot_clouds=true, kwargs...)</code></pre><p>Plot a scatter, vilin, and boxplot for the <code>combined_data_array</code>. Each data array in <code>combined_data_array</code> will be labeled using a corresponding label from <code>category_labels</code>.</p><h1>Arguments</h1><ul><li><p><code>ax</code>: Axis used to place all these plots onto.</p></li><li><p><code>category_labels</code>: Typically <code>Vector{String}</code> used for storing the labels of each category on the x axis of the plot.</p></li><li><p><code>combined_data_array</code>: Typically <code>Vector{Vector{Float64}}</code> used for storing the data array in each element of the <code>combined_data_array</code>.</p></li></ul><h1>Keywords</h1><ul><li><p><code>plot_boxplots=true</code>: Boolean to show boxplots to summarize distribution of data.</p></li><li><p><code>clouds=violin</code>: [violin, hist, nothing] to show cloud plots either as violin or histogram plot, or no cloud plot.</p></li><li><p><code>hist_bins=30</code>: if <code>clouds=hist</code>, this passes down the number of bins to the histogram call.</p></li><li><p><code>dist_between_categories=1.0</code>: Reduce this value to bring categories closer together.</p></li><li><p><code>side=:left</code>: Can take values of <code>:left</code> or <code>:right</code>. Determines which side the violin plot will be on.</p></li><li><p><code>center_boxplot=true</code>: Determines whether or not to have the boxplot be centered in the category.</p></li></ul><h2>Violin Plot Specific Keywords</h2><ul><li><p><code>cloud_width=1.0</code>: Determines size of violin plot. Corresponds to <code>width</code> keyword arg in <code>violin</code>.</p></li></ul><h2>Box Plot Specific Keywords</h2><ul><li><p><code>boxplot_width=0.1</code>: Width of the boxplot in category x-axis absolute terms.</p></li><li><p><code>whiskerwidth=0.5</code>: The width of the Q1, Q3 whisker in the boxplot. Value as a portion of the <code>boxplot_width</code>.</p></li><li><p><code>strokewidth=1.0</code>: Determines the stroke width for the outline of the boxplot.</p></li><li><p><code>show_median=true</code>: Determines whether or not to have a line should the median value in the boxplot.</p></li><li><p><code>boxplot_nudge=0.075</code>: Determines the distance away the boxplot should be placed from the center line when <code>center_boxplot</code> is <code>false</code>.   This is the value used to recentering the boxplot.</p></li></ul><h2>Scatter Plot Specific Keywords</h2><ul><li><p><code>side_scatter_nudge</code>: Default value is 0.02 if <code>plot_boxplots</code> is true, otherwise <code>0.075</code> default.</p></li><li><p><code>jitter_width=0.05</code>: Determines the width of the scatter-plot bar in category x-axis absolute terms.</p></li><li><p><code>markersize=2</code>: Size of marker used for the scatter plot.</p></li></ul><h2>Axis General Keywords</h2><ul><li><p><code>title</code></p></li><li><p><code>xlabel</code></p></li><li><p><code>ylabel</code></p></li></ul></div></div><pre><code class="language-julia">using CairoMakie
CairoMakie.activate!(type = "png")
using Random
using Makie: rand_localized

####
#### Below is used for testing the plotting functionality.
####

function mockup_distribution(N)
    all_possible_labels = ["Single Mode", "Double Mode", "Single Mode", "Double Mode", "Random Exp", "Uniform"]
    category_label = rand(all_possible_labels)

    if category_label == "Single Mode"
        random_mean = rand_localized(0, 8)
        random_spread_coef = rand_localized(0.3, 1)
        data_points = random_spread_coef*randn(N) .+ random_mean

    elseif category_label == "Double Mode"
        random_mean = rand_localized(0, 8)
        random_spread_coef = rand_localized(0.3, 1)
        data_points = random_spread_coef*randn(Int(round(N/2.0))) .+ random_mean

        random_mean = rand_localized(0, 8)
        random_spread_coef = rand_localized(0.3, 1)
        data_points = vcat(data_points, random_spread_coef*randn(Int(round(N/2.0))) .+ random_mean)

    elseif category_label == "Random Exp"
        data_points = randexp(N)

    elseif category_label == "Uniform"
        min = rand_localized(0, 4)
        max = min + rand_localized(0.5, 4)
        data_points = [rand_localized(min, max) for _ in 1:N]

    else
        error("Unidentified category.")
    end

    return category_label, data_points
end

function mockup_categories_and_data_array(num_categories; N = 500)
    category_labels = String[]
    data_array = Vector{Float64}[]

    for _ in 1:num_categories
        category_label, data_points = mockup_distribution(N)

        push!(category_labels, category_label)
        push!(data_array, data_points)
    end
    return category_labels, data_array
end

category_labels, data_array = mockup_categories_and_data_array(3)

fig = rainclouds(category_labels, data_array;
    xlabel = "Categories of Distributions", ylabel = "Samples", title = "My Title",
    plot_boxplots = false, cloud_width=0.5, clouds=hist, hist_bins=50)
fig</code></pre><p></p><p><a id="example_270412117875328950"><img alt="" src="../../../assets/examples/plotting_functions/rainclouds/code/output/example_270412117875328950.png"/></a></p><pre><code class="language-julia">fig = rainclouds(category_labels, data_array;
    xlabel = "Categories of Distributions",
    ylabel = "Samples", title = "My Title",
    plot_boxplots = true, cloud_width=0.5, clouds=hist)</code></pre><p></p><p><a id="example_12102524888357043693"><img alt="" src="../../../assets/examples/plotting_functions/rainclouds/code/output/example_12102524888357043693.png"/></a></p><pre><code class="language-julia">fig = rainclouds(category_labels, data_array;
    xlabel = "Categories of Distributions", ylabel = "Samples", title = "My Title",
    plot_boxplots = true, cloud_width=0.5, side = :right)</code></pre><p></p><p><a id="example_17134509925459685202"><img alt="" src="../../../assets/examples/plotting_functions/rainclouds/code/output/example_17134509925459685202.png"/></a></p><pre><code class="language-julia">more_category_labels = repeat(category_labels, 2)
more_data_array = repeat(data_array, 2)

fig = rainclouds(more_category_labels, more_data_array;
    xlabel = "Categories of Distributions", ylabel = "Samples", title = "My Title",
    plot_boxplots = true, cloud_width=0.5)</code></pre><p></p><p><a id="example_14198804004357020059"><img alt="" src="../../../assets/examples/plotting_functions/rainclouds/code/output/example_14198804004357020059.png"/></a></p><pre><code class="language-julia">more_category_labels = repeat(category_labels, 3)
more_data_array = repeat(data_array, 3)
fig = rainclouds(more_category_labels, more_data_array;
    xlabel = "Categories of Distributions",
    ylabel = "Samples", title = "My Title",
    plot_boxplots = true, cloud_width=0.5)</code></pre><p></p><p><a id="example_18412566813392120403"><img alt="" src="../../../assets/examples/plotting_functions/rainclouds/code/output/example_18412566813392120403.png"/></a></p><pre><code class="language-julia">more_category_labels = repeat(category_labels, 3)
more_data_array = repeat(data_array, 3)
rainclouds(more_category_labels, more_data_array;
    xlabel = "Categories of Distributions",
    ylabel = "Samples", title = "My Title",
    plot_boxplots = true, cloud_width=0.5, dist_between_categories = 0.6)</code></pre><p></p><p><a id="example_610954867663630808"><img alt="" src="../../../assets/examples/plotting_functions/rainclouds/code/output/example_610954867663630808.png"/></a></p><p>4 of these, between 3 distributions Left and Right example With and Without Box Plot</p><pre><code class="language-julia">fig = Figure(resolution = (800*2, 600*5))

category_labels, data_array = mockup_categories_and_data_array(3)
rainclouds!(Axis(fig[1, 1]), category_labels, data_array;
    title = "Left Side, with Box Plot",
    side = :left,
    plot_boxplots = true)

rainclouds!(Axis(fig[2, 1]), category_labels, data_array;
    title = "Left Side, without Box Plot",
    side = :left,
    plot_boxplots = false)

rainclouds!(Axis(fig[1, 2]), category_labels, data_array;
    title = "Right Side, with Box Plot",
    side = :right,
    plot_boxplots = true)

rainclouds!(Axis(fig[2, 2]), category_labels, data_array;
    title = "Right Side, without Box Plot",
    side = :right,
    plot_boxplots = false)

# Plots wiht more categories
# dist_between_categories (0.6, 1.0)
# with and without clouds

category_labels, data_array = mockup_categories_and_data_array(12)
rainclouds!(Axis(fig[3, 1:2]), category_labels, data_array;
    title = "More categories. Default spacing.",
    plot_boxplots = true,
    dist_between_categories = 1.0)

rainclouds!(Axis(fig[4, 1:2]), category_labels, data_array;
    title = "More categories. Adjust space. (smaller cloud widths and smaller category distances)",
    plot_boxplots = true,
    cloud_width = 0.3,
    dist_between_categories = 0.5)

rainclouds!(Axis(fig[5, 1:2]), category_labels, data_array;
    title = "More categories. Adjust space. No clouds.",
    plot_boxplots = true,
    clouds = nothing,
    dist_between_categories = 0.5)

supertitle = Label(fig[0, :], "Cloud Plot Testing (Scatter, Violin, Boxplot)", textsize=30)
fig</code></pre><p></p><p><a id="example_14462128454788535504"><img alt="" src="../../../assets/examples/plotting_functions/rainclouds/code/output/example_14462128454788535504.png"/></a></p><div class="page-foot"><div class="copyright">
    © Makie.jl. Last modified: March 04, 2022. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
      <p>These docs were autogenerated using Makie: v0.16.5, GLMakie: v0.5.4, CairoMakie: v0.7.4, WGLMakie: v0.5.4</p></div></div></div></div><div class="page__footer"><footer><div class="page__footer-follow"><ul class="social-icons"><li><a href="https://twitter.com/MakiePlots" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-twitter-square"></i> Twitter</a></li><li><a href="https://github.com/JuliaPlots/Makie.jl" rel="nofollow noopener noreferrer"><i aria-hidden="true" class="fab fa-fw fa-github"></i> GitHub</a></li></ul></div><div class="page__footer-copyright">© Makie.jl. Powered by <a href="https://github.com/tlienart/Franklin.jl">Franklin</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div></footer></div></div><script src="../../../libs/navbar.js"></script><script src="../../../libs/lunr/lunr.min.js"></script><script src="../../../libs/lunr/lunr_index.js"></script><script src="../../../libs/lunr/lunrclient.min.js"></script><script crossorigin="anonymous" defer="" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" src="https://use.fontawesome.com/releases/v5.8.2/js/all.js"></script><script src="../../../libs/highlight/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script></body></HTML>